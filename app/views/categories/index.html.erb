<div class="container">
  <h1>Index Categories</h1>

  <%= form_tag categories_path, method: :get, class: "d-flex" do %>
    <%= text_field_tag :query,
      params[:query],
      class: "form-control",
      placeholder: "Find an ingredient"
    %>
    <%= submit_tag "Search", class: "btn btn-primary" %>
  <% end %>

  <% if @ingredients %>
    <div class="d-flex">
      <% @ingredients.each do |i| %>
        <span class="btn btn-primary"><%= i.name %></span>
      <% end %>
    </div>
  <% end %>

  <% @categories.each do |category| %>
    <div class="card">
      <div class="card-header">
        <h2><%= category.name %></h2>
      </div>
      <div class="d-flex">
        <% category.ingredients.first(5).each do |i|%>
          <div class="card-body">
            <span class="btn btn-primary"><%= i.name %></span>
          </div>
        <%end%>
      </div>
    </div>
  <% end %>
</div>
